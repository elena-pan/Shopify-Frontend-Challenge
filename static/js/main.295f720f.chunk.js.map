{"version":3,"sources":["components/layout/Footer.js","components/layout/Navbar.js","components/layout/LinearLoadingSymbol.js","components/pages/Landing.js","App.js","index.js"],"names":["Footer","className","Navbar","to","LinearLoadingSymbol","nasaApiKey","Landing","content","useState","images","setImages","loading","setLoading","earthDate","userLikes","setUserLikes","a","window","scrollTo","axios","get","then","response","data","photos","catch","err","console","log","M","toast","html","classes","useEffect","localStorage","getItem","JSON","parse","getImages","Fragment","length","cards","map","image","index","likeButtonIcon","id","key","src","img_src","alt","rover","name","camera","earth_date","onClick","imageId","newUserLikes","setItem","stringify","imageLikeClick","sol","full_name","App","path","component","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"qRAceA,MAXf,WACE,OACI,4BAAQC,UAAU,oBAChB,yBAAKA,UAAU,aACX,wBAAIA,UAAU,2BAA0B,2CAE5C,yBAAKA,UAAU,uBCmBRC,MArBf,WAEI,OACI,yBAAKD,UAAU,gBACX,yBAAKA,UAAU,aACX,yBAAKA,UAAU,qBACX,yBAAKA,UAAU,aACX,kBAAC,IAAD,CACIE,GAAG,IACHF,UAAU,qCAEV,uBAAGA,UAAU,kBAAb,UAJJ,mB,0ECDTG,MARf,WACI,OACI,yBAAKH,UAAU,YACX,yBAAKA,UAAU,oBCDrBI,G,MAAa,4CAwGJC,MAtGf,WAEI,IAuCIC,EAvCJ,EAA4BC,mBAAS,MAArC,mBAAOC,EAAP,KAAeC,EAAf,KACA,EAA8BF,oBAAS,GAAvC,mBAAOG,EAAP,KAAgBC,EAAhB,KACA,EAAkCJ,mBAAS,cAA3C,mBAAOK,EAAP,KACA,GADA,KACkCL,mBAAS,KAA3C,mBAAOM,EAAP,KAAkBC,EAAlB,KALe,4CAiBf,sBAAAC,EAAA,sDACIJ,GAAW,GACXK,OAAOC,SAAS,EAAG,GACnBC,IAAMC,IAAN,kFAAqFf,EAArF,uBAA8GQ,IACzGQ,MAAK,SAAAC,GACFV,GAAW,GACXK,OAAOC,SAAS,EAAG,GACnBR,EAAUY,EAASC,KAAKC,WAE3BC,OAAM,SAAAC,GACHd,GAAW,GACXK,OAAOC,SAAS,EAAG,GACnBS,QAAQC,IAAIF,GACZG,IAAEC,MAAM,CAACC,KAAM,0CAA2CC,QAAS,qBAb/E,4CAjBe,sBA4Cf,GArCAC,qBAAU,WAEFC,aAAaC,QAAQ,cACrBpB,EAAaqB,KAAKC,MAAMH,aAAaC,QAAQ,eAVtC,0CAcXG,GAAYb,OAAM,SAAAC,GAAG,OAAIC,QAAQC,IAAIF,QACtC,IA6BCf,GAAsB,OAAXF,EACXF,EAAW,kBAAC,IAAMgC,SAAP,KACK,uBAAGtC,UAAU,uBAAb,UACA,kBAAC,EAAD,MACA,wBAAIA,UAAU,2BAAd,oBAKf,GAAsB,IAAlBQ,EAAO+B,OACZjC,EAAW,wBAAIN,UAAU,qCAAd,qCAIV,CACD,IAAMwC,EAAQhC,EAAOiC,KAAI,SAACC,EAAOC,GAC7B,IAAIC,EAAiB/B,EAAU6B,EAAMG,IAAM,WAAa,kBACxD,OACI,yBAAK7C,UAAU,gBAAgB8C,IAAKH,GAChC,yBAAK3C,UAAU,iCACX,yBAAKA,UAAU,uCACX,yBAAKA,UAAU,YAAY+C,IAAKL,EAAMM,QAASC,IAAI,qBAEvD,yBAAKjD,UAAU,gBACX,0BAAMA,UAAU,wBAAhB,UAA2C0C,EAAMQ,MAAMC,KAAvD,cAAiET,EAAMU,OAAOD,OAC9E,uBAAGnD,UAAU,aAAc0C,EAAMW,aAErC,yBAAKrD,UAAU,eACX,4BAAQA,UAAU,kEAAkEsD,QAAS,kBAtCrH,SAAwBC,GACpB,IAAMC,EAAY,eAAO3C,GACzB2C,EAAaD,IAAWC,EAAaD,GACrCzC,EAAa0C,GACbvB,aAAawB,QAAQ,YAAatB,KAAKuB,UAAUF,IAkCsEG,CAAejB,EAAMG,MACpH,uBAAG7C,UAAU,kBAAkB4C,KAGvC,yBAAK5C,UAAU,eACX,0BAAMA,UAAU,cAAc0C,EAAMQ,MAAMC,KAAK,uBAAGnD,UAAU,wBAAb,UAC/C,uBAAGA,UAAU,oCAAqC0C,EAAMW,YACxD,uBAAGrD,UAAU,oCAAb,aAA4D0C,EAAMkB,KAClE,uBAAG5D,UAAU,oCAAb,WAA0D0C,EAAMU,OAAOS,iBAM3FvD,EACI,yBAAKN,UAAU,OACTwC,GAKd,OAAQ,yBAAKxC,UAAU,oCACf,yBAAKA,UAAU,OACX,yBAAKA,UAAU,wBACTM,MCpFPwD,MAdf,WACE,OACE,kBAAC,IAAD,KACE,yBAAK9D,UAAU,OACb,kBAAC,EAAD,MACA,kBAAC,IAAD,KACE,kBAAC,IAAD,CAAO+D,KAAK,IAAIC,UAAW3D,KAE7B,kBAAC,EAAD,SCVR4D,IAASC,OACP,kBAAC,IAAMC,WAAP,KACE,kBAAC,EAAD,OAEFC,SAASC,eAAe,W","file":"static/js/main.295f720f.chunk.js","sourcesContent":["import React from \"react\";\r\nimport './styles.css';\r\n\r\nfunction Footer() {\r\n  return (\r\n      <footer className=\"page-footer grey\">\r\n        <div className=\"container\">\r\n            <h6 className=\"footer-title white-text\"><b>Marstagram</b></h6>\r\n        </div>\r\n        <div className=\"footer-copyright\"></div>\r\n      </footer>\r\n  );\r\n}\r\n\r\nexport default Footer;","import React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport './styles.css'\r\n\r\n/**\r\n * Navbar with name and logo icon\r\n */\r\nfunction Navbar() {\r\n\r\n    return (\r\n        <div className=\"navbar-fixed\">\r\n            <nav className=\"z-depth-0\">\r\n                <div className=\"nav-wrapper white\">\r\n                    <div className=\"container\">\r\n                        <Link\r\n                            to=\"/\"\r\n                            className=\"col s5 brand-logo left black-text\"\r\n                        >\r\n                            <i className=\"material-icons\">public</i>\r\n                            Marstagram\r\n                        </Link>\r\n                    </div>\r\n                </div>\r\n            </nav>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Navbar;","import React from \"react\";\r\n\r\n/**\r\n * Linear preloader from materialize CSS\r\n */\r\nfunction LinearLoadingSymbol() {\r\n    return (\r\n        <div className=\"progress\">\r\n            <div className=\"indeterminate\"></div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default LinearLoadingSymbol;","import React, { useEffect, useState } from \"react\";\r\nimport axios from \"axios\"\r\nimport M from \"materialize-css\";\r\nimport LinearLoadingSymbol from \"../layout/LinearLoadingSymbol\";\r\nimport './Landing.css'\r\n\r\n// NASA API key\r\nconst nasaApiKey = 'imdFxJuVuRDxN5tMRVVcE3T4jb76MIhgW7YRDGEj';\r\n\r\nfunction Landing() {\r\n\r\n    const [images, setImages] = useState(null);\r\n    const [loading, setLoading] = useState(true);\r\n    const [earthDate, setEarthDate] = useState('2021-09-01')\r\n    const [userLikes, setUserLikes] = useState({})\r\n\r\n    useEffect(() => {\r\n        // Check cache for previous images liked by user\r\n        if (localStorage.getItem('userLikes')) {\r\n            setUserLikes(JSON.parse(localStorage.getItem('userLikes')));\r\n        } \r\n\r\n        // Fetch data from NASA API\r\n        getImages().catch(err => console.log(err))\r\n    }, [])\r\n\r\n    async function getImages() {\r\n        setLoading(true);\r\n        window.scrollTo(0, 0);\r\n        axios.get(`https://api.nasa.gov/mars-photos/api/v1/rovers/curiosity/photos?api_key=${nasaApiKey}&earth_date=${earthDate}`)\r\n            .then(response => {\r\n                setLoading(false);\r\n                window.scrollTo(0, 0);\r\n                setImages(response.data.photos);\r\n            })\r\n            .catch(err => {\r\n                setLoading(false);\r\n                window.scrollTo(0, 0);\r\n                console.log(err);\r\n                M.toast({html: 'An error has occurred. Please try again', classes: \"red lighten-1\"});\r\n            })\r\n    }\r\n\r\n    function imageLikeClick(imageId) {\r\n        const newUserLikes = {...userLikes}\r\n        newUserLikes[imageId] = newUserLikes[imageId] ? false : true;\r\n        setUserLikes(newUserLikes);\r\n        localStorage.setItem('userLikes', JSON.stringify(newUserLikes))\r\n    }\r\n\r\n    let content;\r\n\r\n    // If loading, render loading symbol\r\n    if (loading || images === null) { \r\n        content = (<React.Fragment>\r\n                        <i className=\"material-icons logo\">public</i>\r\n                        <LinearLoadingSymbol />\r\n                        <h5 className=\"grey-text text-darken-2\">\r\n                            Loading...\r\n                        </h5>\r\n                    </React.Fragment>);\r\n    }\r\n    else if (images.length === 0) {\r\n        content = (<h5 className=\"no-images grey-text text-darken-2\">\r\n                        No images found for this date\r\n                    </h5>)\r\n    }\r\n    else {\r\n        const cards = images.map((image, index) => {\r\n            let likeButtonIcon = userLikes[image.id] ? \"favorite\" : \"favorite_border\";\r\n            return (\r\n                <div className=\"col s12 m6 l4\" key={index}>\r\n                    <div className=\"card sticky-action left-align\">\r\n                        <div className=\"card-image waves-effect waves-light\">\r\n                            <img className=\"activator\" src={image.img_src} alt=\"Mars rover view\"/>\r\n                        </div>\r\n                        <div className=\"card-content\">\r\n                            <span className=\"card-title activator\">{`${image.rover.name} - ${image.camera.name}`}</span>\r\n                            <p className=\"grey-text\">{ image.earth_date }</p>\r\n                        </div>\r\n                        <div className=\"card-action\">\r\n                            <button className=\"like-button btn-floating waves-effect waves-light red lighten-2\" onClick={() => imageLikeClick(image.id)}>\r\n                                <i className=\"material-icons\">{likeButtonIcon}</i>\r\n                            </button>\r\n                        </div>\r\n                        <div className=\"card-reveal\">\r\n                            <span className=\"card-title\">{image.rover.name}<i className=\"material-icons right\">close</i></span>\r\n                            <p className=\"card-description-field grey-text\">{ image.earth_date }</p>\r\n                            <p className=\"card-description-field grey-text\">Mars sol: { image.sol }</p>\r\n                            <p className=\"card-description-field grey-text\">Camera: { image.camera.full_name }</p>\r\n                        </div>\r\n                    </div>\r\n                </div>)}\r\n        )\r\n\r\n        content = (\r\n            <div className=\"row\">\r\n                { cards }\r\n            </div>\r\n        );\r\n    }\r\n\r\n    return (<div className=\"landing container valign-wrapper\">\r\n            <div className=\"row\">\r\n                <div className=\"col s12 center-align\">\r\n                    { content }\r\n                </div>\r\n            </div>\r\n        </div>);\r\n}\r\n\r\nexport default Landing;","import React from \"react\";\r\nimport { BrowserRouter as Router, Route, Switch } from \"react-router-dom\";\r\n\r\nimport Footer from \"./components/layout/Footer\";\r\nimport Navbar from \"./components/layout/Navbar\";\r\nimport Landing from \"./components/pages/Landing\";\r\n\r\nfunction App() {\r\n  return (\r\n    <Router>\r\n      <div className=\"App\">\r\n        <Navbar />\r\n        <Switch>\r\n          <Route path=\"/\" component={Landing}/>\r\n        </Switch>\r\n        <Footer />\r\n      </div>\r\n    </Router>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);"],"sourceRoot":""}